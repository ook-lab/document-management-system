# ğŸš€ Dual Editor UI - ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆã‚¬ã‚¤ãƒ‰

## ğŸ“¦ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

### 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•

```bash
cd /Users/ookuboyoshinori/document_management_system/frontend
```

### 2. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
npm install
```

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸:
- `react` (18.3.1) - UIãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- `react-dom` (18.3.1) - Reactã®DOMæ“ä½œ
- `marked` (11.1.1) - Markdownãƒ‘ãƒ¼ã‚µãƒ¼
- `vite` (5.4.11) - é«˜é€Ÿãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«
- `typescript` (5.6.3) - å‹å®‰å…¨æ€§

### 3. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•

```bash
npm run dev
```

èµ·å‹•å¾Œã€ä»¥ä¸‹ã®URLã«ã‚¢ã‚¯ã‚»ã‚¹:
```
http://localhost:5173
```

### 4. ãƒ“ãƒ«ãƒ‰ï¼ˆæœ¬ç•ªç’°å¢ƒç”¨ï¼‰

```bash
npm run build
```

ãƒ“ãƒ«ãƒ‰æˆæœç‰©ã¯ `dist/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚

---

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
frontend/
â”œâ”€â”€ index.html                    # HTMLã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”œâ”€â”€ package.json                  # ä¾å­˜é–¢ä¿‚å®šç¾©
â”œâ”€â”€ vite.config.ts               # Viteè¨­å®š
â”œâ”€â”€ tsconfig.json                # TypeScriptè¨­å®š
â”œâ”€â”€ tsconfig.node.json           # Nodeç”¨TypeScriptè¨­å®š
â”œâ”€â”€ .gitignore                   # Gité™¤å¤–ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ README.md                    # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆèª¬æ˜
â”œâ”€â”€ QUICKSTART.md                # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
â””â”€â”€ src/
    â”œâ”€â”€ main.tsx                 # Reactã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
    â”œâ”€â”€ App.tsx                  # ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
    â”œâ”€â”€ App.css                  # ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
    â”œâ”€â”€ vite-env.d.ts           # Viteå‹å®šç¾©
    â””â”€â”€ components/
        â”œâ”€â”€ DualEditor.tsx       # ğŸ¯ ã‚³ã‚¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
        â””â”€â”€ DualEditor.module.css # ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾©
```

---

## ğŸ¨ DualEditor ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æ©Ÿèƒ½

### ä¸»è¦æ©Ÿèƒ½

âœ… **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸ**
- Markdownãƒ†ã‚­ã‚¹ãƒˆã®å…¥åŠ›ã¨åŒæ™‚ã«HTMLãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒæ›´æ–°
- `useMemo`ã«ã‚ˆã‚‹æœ€é©åŒ–ã§é«˜é€Ÿãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°

âœ… **GitHub Flavored Markdown (GFM) å¯¾å¿œ**
- è¦‹å‡ºã— (H1-H6)
- ãƒªã‚¹ãƒˆ (é †åºä»˜ããƒ»é †åºãªã—)
- å¼·èª¿ (**å¤ªå­—**, *æ–œä½“*)
- ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ãƒ»ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚³ãƒ¼ãƒ‰
- ãƒ†ãƒ¼ãƒ–ãƒ«
- æ°´å¹³ç·š
- ãƒªãƒ³ã‚¯ãƒ»ç”»åƒ

âœ… **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³**
- ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—: å·¦å³åˆ†å‰²è¡¨ç¤º
- ãƒ¢ãƒã‚¤ãƒ«: ä¸Šä¸‹åˆ†å‰²è¡¨ç¤º

âœ… **æ–‡å­—æ•°ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼**
- å…¥åŠ›æ–‡å­—æ•°ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤º

âœ… **ãƒ©ã‚¤ãƒ–ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼**
- ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®åŒæœŸçŠ¶æ…‹ã‚’è¦–è¦šçš„ã«è¡¨ç¤º

---

## ğŸ”§ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ–¹æ³•

### åˆæœŸMarkdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®å¤‰æ›´

`src/components/DualEditor.tsx` ã® `INITIAL_MARKDOWN` ã‚’ç·¨é›†:

```typescript
const INITIAL_MARKDOWN = `# ã‚ãªãŸã®ã‚¿ã‚¤ãƒˆãƒ«
- ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è¿½åŠ 
- è‡ªç”±ã«ç·¨é›†å¯èƒ½
`;
```

### ã‚¹ã‚¿ã‚¤ãƒ«ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

`src/components/DualEditor.module.css` ã‚’ç·¨é›†:

```css
/* ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚«ãƒ©ãƒ¼ã®å¤‰æ›´ */
.panelHeader {
  background: linear-gradient(135deg, #YOUR_COLOR1 0%, #YOUR_COLOR2 100%);
}

/* ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã®å¤‰æ›´ */
.textarea {
  font-size: 16px; /* ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 14px */
}
```

---

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ– (æ¨å¥¨)

### DOMPurifyã®å°å…¥

XSSæ”»æ’ƒã‚’é˜²ããŸã‚ã€DOMPurifyã§HTMLã‚’ã‚µãƒ‹ã‚¿ã‚¤ã‚º:

```bash
npm install dompurify
npm install --save-dev @types/dompurify
```

`DualEditor.tsx` ã‚’ä¿®æ­£:

```typescript
import DOMPurify from 'dompurify';

const htmlContent = useMemo(() => {
  const rawHtml = marked.parse(markdown);
  return DOMPurify.sanitize(rawHtml);
}, [markdown]);
```

---

## ğŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ãƒãƒ¼ãƒˆ5173ãŒæ—¢ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹å ´åˆ

```bash
# ãƒ—ãƒ­ã‚»ã‚¹ã‚’ç¢ºèª
lsof -ti:5173

# ãƒ—ãƒ­ã‚»ã‚¹ã‚’çµ‚äº†
kill -9 $(lsof -ti:5173)
```

ã¾ãŸã¯ `vite.config.ts` ã§ãƒãƒ¼ãƒˆå¤‰æ›´:

```typescript
export default defineConfig({
  server: {
    port: 3000, // ä»»æ„ã®ãƒãƒ¼ãƒˆç•ªå·
  },
});
```

### CSS ModulesãŒèªè­˜ã•ã‚Œãªã„å ´åˆ

`src/vite-env.d.ts` ãŒå­˜åœ¨ã™ã‚‹ã‹ç¢ºèª:

```typescript
declare module '*.module.css' {
  const classes: { [key: string]: string };
  export default classes;
}
```

### TypeScriptã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹å ´åˆ

```bash
# å‹å®šç¾©ã‚’å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install --save-dev @types/react @types/react-dom @types/marked
```

---

## ğŸ“Š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### 1. useMemoã®æ´»ç”¨
Markdownâ†’HTMLå¤‰æ›ã¯ `useMemo` ã§æœ€é©åŒ–æ¸ˆã¿ã€‚ä¸è¦ãªå†è¨ˆç®—ã‚’é˜²æ­¢ã€‚

### 2. ã‚³ãƒ¼ãƒ‰åˆ†å‰²
å°†æ¥çš„ã«æ©Ÿèƒ½è¿½åŠ ã™ã‚‹å ´åˆã¯ã€`React.lazy` ã§å‹•çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆ:

```typescript
const HeavyComponent = React.lazy(() => import('./HeavyComponent'));
```

### 3. ãƒ“ãƒ«ãƒ‰æœ€é©åŒ–
```bash
npm run build -- --mode production
```

---

## ğŸ¯ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. **ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½ã®è¿½åŠ **
   - Markdown/HTML/PDFã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½

2. **ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆ**
   - `highlight.js` ã¾ãŸã¯ `prism.js` ã®çµ±åˆ

3. **ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ**
   - ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½ã®å®Ÿè£…

4. **ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å¯¾å¿œ**
   - è‡ªå‹•ä¿å­˜æ©Ÿèƒ½ã®è¿½åŠ 

5. **ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã®å®Ÿè£…**
   - Markdownè¨˜æ³•ã®æŒ¿å…¥ãƒœã‚¿ãƒ³

---

## ğŸ’¡ ä½¿ç”¨ä¾‹

### Markdownè¨˜æ³•ãƒãƒ¼ãƒˆã‚·ãƒ¼ãƒˆ

```markdown
# è¦‹å‡ºã—1
## è¦‹å‡ºã—2
### è¦‹å‡ºã—3

**å¤ªå­—**
*æ–œä½“*
***å¤ªå­—æ–œä½“***

- ãƒªã‚¹ãƒˆé …ç›®1
- ãƒªã‚¹ãƒˆé …ç›®2

1. é †åºä»˜ããƒªã‚¹ãƒˆ1
2. é †åºä»˜ããƒªã‚¹ãƒˆ2

[ãƒªãƒ³ã‚¯ãƒ†ã‚­ã‚¹ãƒˆ](https://example.com)

`ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚³ãƒ¼ãƒ‰`

\`\`\`javascript
// ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯
console.log('Hello, World!');
\`\`\`

| ã‚«ãƒ©ãƒ 1 | ã‚«ãƒ©ãƒ 2 |
|---------|---------|
| ãƒ‡ãƒ¼ã‚¿1 | ãƒ‡ãƒ¼ã‚¿2 |

---

> å¼•ç”¨æ–‡
```

---

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

å•é¡ŒãŒç™ºç”Ÿã—ãŸå ´åˆã¯ã€ä»¥ä¸‹ã‚’ç¢ºèªã—ã¦ãã ã•ã„:

1. Node.jsãƒãƒ¼ã‚¸ãƒ§ãƒ³: `node -v` (æ¨å¥¨: v18ä»¥ä¸Š)
2. npmãƒãƒ¼ã‚¸ãƒ§ãƒ³: `npm -v` (æ¨å¥¨: v9ä»¥ä¸Š)
3. ãƒ–ãƒ©ã‚¦ã‚¶ã®é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã§ã‚¨ãƒ©ãƒ¼ã‚’ç¢ºèª

---

**Enjoy your Markdown editing experience!** âœ¨

ğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)

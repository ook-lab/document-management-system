# Stage1/Stage2 æ®‹éª¸æ•´ç†å®Œäº†ãƒ¬ãƒãƒ¼ãƒˆ

## å®Ÿæ–½æ—¥æ™‚
2025-12-19

## ä½œæ¥­ã‚µãƒãƒªãƒ¼

### å‰Šé™¤ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ9å€‹ï¼‰

#### ã€Aã€‘SQLãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ5å€‹ï¼‰
âœ… remove_stage1_columns.sql
âœ… rename_stages_to_ABC.sql
âœ… remove_unused_columns.sql
âœ… remove_doc_type_column.sql
âœ… cleanup_remove_columns_step2_drop_columns.sql

#### ã€Bã€‘å¤ã„ã‚¹ã‚­ãƒ¼ãƒãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ4å€‹ï¼‰
âœ… step1_create_tables.sql
âœ… schema_v4_unified.sql
âœ… migration_3tier_structure.sql
âœ… add_text_extraction_and_vision_model_columns.sql

### æ›´æ–°ã—ãŸPythonãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ10å€‹ï¼‰

1. âœ… A_common/utils/metadata_extractor.py (2ç®‡æ‰€)
2. âœ… C_ai_common/llm_client/llm_client.py (2ç®‡æ‰€)
3. âœ… process_queued_documents.py (9ç®‡æ‰€)
4. âœ… H_streamlit/review_ui.py (9ç®‡æ‰€)
5. âœ… H_streamlit/utils/stageC_reprocessor.py (3ç®‡æ‰€)
6. âœ… H_streamlit/components/manual_text_correction.py (16ç®‡æ‰€)
7. âœ… ui/review_ui.py (16ç®‡æ‰€)
8. âœ… ui/utils/stageC_reprocessor.py (3ç®‡æ‰€)
9. âœ… ui/components/manual_text_correction.py (14ç®‡æ‰€)
10. âœ… tests/test_llm_client_retry.py (1ç®‡æ‰€)

### æ›´æ–°å†…å®¹

- `Stage 1` â†’ `Stage A`
- `Stage 2` â†’ `Stage H`
- `stage1` â†’ `stagea`
- `stage2` â†’ `stageh`
- `stage1_result` â†’ `stagea_result`
- `stage2_extractor` â†’ `stageh_extractor`
- `stage1_classifier` â†’ `stagea_classifier`

## æ®‹ã£ã¦ã„ã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ21å€‹ï¼‰

ä»¥ä¸‹ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯ã€ã¾ã stage1/stage2ã¸ã®å‚ç…§ãŒæ®‹ã£ã¦ã„ã¾ã™ï¼š

1. DESIGN_REPROCESS_COMPLETE.md (3ç®‡æ‰€)
2. DESIGN_UNIFIED_PIPELINE.md (1ç®‡æ‰€)
3. J_resources/docs/UNIFIED_PROCESSING_FLOW.md (2ç®‡æ‰€)
4. J_resources/docs/TEXT_ONLY_DOCUMENT_SUPPORT.md (48ç®‡æ‰€) âš ï¸å¤§é‡
5. J_resources/docs/TABLE_STRUCTURE_EXTRACTION.md (5ç®‡æ‰€)
6. J_resources/docs/REPROCESSING_QUEUE_GUIDE.md (1ç®‡æ‰€)
7. J_resources/docs/MIGRATION_NOTES.md (1ç®‡æ‰€)
8. J_resources/docs/METADATA_FILTERING_GUIDE.md (2ç®‡æ‰€)
9. J_resources/docs/JSON_SCHEMA_VALIDATION.md (6ç®‡æ‰€)
10. J_resources/docs/INBOX_MONITOR_SETUP.md (2ç®‡æ‰€)
11. J_resources/docs/IMPLEMENTATION_STEPS.md (7ç®‡æ‰€)
12. J_resources/docs/EVENT_DATES_IMPLEMENTATION.md (6ç®‡æ‰€)
13. J_resources/docs/DYNAMIC_SYSTEM.md (2ç®‡æ‰€)
14. J_resources/docs/DUPLICATE_DETECTION.md (2ç®‡æ‰€)
15. J_resources/docs/DATABASE_CLEANUP_GUIDE.md (1ç®‡æ‰€)
16. J_resources/docs/COMPOSITE_CONFIDENCE.md (5ç®‡æ‰€)
17. J_resources/docs/CLASSROOM_REPROCESSING_GUIDE.md (5ç®‡æ‰€)
18. J_resources/docs/CLASSROOM_INTEGRATION_SUMMARY.md (3ç®‡æ‰€)
19. J_resources/docs/50_DOC_TYPE_CLASSIFICATION.md (6ç®‡æ‰€)

**æ³¨è¨˜:** ã“ã‚Œã‚‰ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã¯å¾Œå›ã—ã«ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã—ãŸã€‚

## ä¿æŒã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ2å€‹ï¼‰

### ã€Cã€‘ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–æ¸ˆã¿ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- J_resources/docs/archive/PROJECT_EVALUATION_REPORT_20251212.md
- J_resources/docs/archive/PROGRESS_LOG_20251212.md

ã“ã‚Œã‚‰ã¯æ—¢ã«archiveãƒ•ã‚©ãƒ«ãƒ€å†…ã«ã‚ã‚‹ãŸã‚ã€æ­´å²çš„è¨˜éŒ²ã¨ã—ã¦ä¿æŒã€‚

## æ¤œè¨¼çµæœ

æœ€çµ‚ç¢ºèªï¼šPythonãƒ•ã‚¡ã‚¤ãƒ«å†…ã®stage1/stage2å‚ç…§ â†’ **0ç®‡æ‰€** âœ…

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆä»»æ„ï¼‰

ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«21å€‹ã®æ›´æ–°ãŒå¿…è¦ãªå ´åˆã¯ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ä¸€æ‹¬ç½®æ›å¯èƒ½ï¼š

```bash
find "I:\ãƒã‚¤ãƒ‰ãƒ©ã‚¤ãƒ–\document-management-system\J_resources\docs" -name "*.md" ! -path "*/archive/*" -exec sed -i 's/Stage 1/Stage A/g; s/Stage 2/Stage H/g; s/stage1/stagea/g; s/stage2/stageh/g' {} \;
```

---

## ã€è¿½åŠ ä½œæ¥­ã€‘ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–

### å®Ÿæ–½å†…å®¹
æ—§è¨­å®šã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ19å€‹ã‚’ `old_docs/` ãƒ•ã‚©ãƒ«ãƒ€ã«ç§»å‹•ã—ã¾ã—ãŸã€‚

### ç§»å‹•å…ˆ
`I:\ãƒã‚¤ãƒ‰ãƒ©ã‚¤ãƒ–\document-management-system\old_docs\`

### ç§»å‹•ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ19å€‹ï¼‰
1. 50_DOC_TYPE_CLASSIFICATION.md
2. CLASSROOM_INTEGRATION_SUMMARY.md
3. CLASSROOM_REPROCESSING_GUIDE.md
4. COMPOSITE_CONFIDENCE.md
5. DATABASE_CLEANUP_GUIDE.md
6. DESIGN_REPROCESS_COMPLETE.md
7. DESIGN_UNIFIED_PIPELINE.md
8. DUPLICATE_DETECTION.md
9. DYNAMIC_SYSTEM.md
10. EVENT_DATES_IMPLEMENTATION.md
11. IMPLEMENTATION_STEPS.md
12. INBOX_MONITOR_SETUP.md
13. JSON_SCHEMA_VALIDATION.md
14. METADATA_FILTERING_GUIDE.md
15. MIGRATION_NOTES.md
16. REPROCESSING_QUEUE_GUIDE.md
17. TABLE_STRUCTURE_EXTRACTION.md
18. TEXT_ONLY_DOCUMENT_SUPPORT.md
19. UNIFIED_PROCESSING_FLOW.md

### å‚™è€ƒ
- old_docs/README.md ã‚’ä½œæˆã—ã€ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã®ç›®çš„ã¨æ³¨æ„äº‹é …ã‚’è¨˜è¼‰
- ã“ã‚Œã‚‰ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯å‚è€ƒè³‡æ–™ã¨ã—ã¦ä¿å­˜
- ç¾åœ¨ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰ã¯åˆ†é›¢ã•ã‚Œã€æ•´ç†å®Œäº†

## ğŸ‰ å…¨ä½œæ¥­å®Œäº†ï¼

âœ… SQLãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤: 9å€‹
âœ… Pythonãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°: 10å€‹ï¼ˆ75ç®‡æ‰€ã®å‚ç…§ã‚’æ›´æ–°ï¼‰
âœ… ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¢ãƒ¼ã‚«ã‚¤ãƒ–: 19å€‹

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã®æ­£å¸¸åŒ–ã¨ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ãŒå®Œäº†ã—ã¾ã—ãŸã€‚
